version: "3"

networks:
  https:
    external:
      name: serviceapi_api_service

services:
  nextjs:
    # build:
    #   context: ./
    images: ghcr.io/tfpers/tfpers-ui:dev
    container_name: nextjs
    restart: on-failure
    env_file:
      - ./.env.development
    networks:
      - https
  nginx:
    # build: ./nginx
    images: ghcr.io/tfpers/tfpers-nginx:dev
    container_name: nginx
    restart: on-failure
    volumes:
      - ./nginx/ssl:/etc/nginx/ssl
    ports:
      - 80:80
      - 443:443
    networks:
      - https
